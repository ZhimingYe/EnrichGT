---
title: "Benchmark of enriched result interpreter (VS Other packages)"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Benchmark of enriched result interpreter (VS Other packages)}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(EnrichGT)
```

```{r}
suppressMessages({
  library(tidyverse)
  library(gt)
  library(clusterProfiler)
  library(org.Hs.eg.db)
  library(simplifyEnrichment)
  library(aPEAR)
  })

```


# Benchmark of packages

In the design of `EnrichGT`, a minimalist approach is followed, prioritizing the simplest (rather than the most elaborate or trendy) methods to complete the re-clustering of enrichment analysis results, even if certain machine learning classifiers might yield better computational performance. Since this package is primarily targeted at biologists, the focus is on interpretability rather than computational superiority.

Compared to well-known packages in the field, such as simplifyEnrichment and aPEAR, `EnrichGT` is significantly faster. While the former two may require over 8 seconds to cluster more than 1500 GO terms, EnrichGT typically completes the process in around 2 seconds.

# Testing Platform

Apple M1 Chip on MacBook Air (2020)

# Load dataset
```{r}
testWith1700Rows <- readRDS("~/Documents/4Fun/EnrichGT/tests/testthat/testCP.rds")
dim(testWith1700Rows@result)
```

# simplifyEnrichment

```{r}
mat = GO_similarity(testWith1700Rows@result$ID)
```

```{r}
start_time <- Sys.time()
df = simplifyGO(mat)
end_time <- Sys.time()
t1<- end_time - start_time
t1
```

# EnrichGT

```{r}
start_time <- Sys.time()
obj<-testWith1700Rows |> EnrichGT()
obj@gt_object
end_time <- Sys.time()
t2 <-end_time - start_time
t2

```


# aPEAR

```{r}
start_time <- Sys.time()
p <- enrichmentNetwork(testWith1700Rows@result, drawEllipses = TRUE, fontSize = 2.5,plotOnly = F)
p[["plot"]]
end_time <- Sys.time()
t3 <-end_time - start_time
t3

```


# Compare Calculation Times

You can see the `EnrichGT()` is the fastest, only using ~2s. `simplifyEnrichment` takes ~10s, and `aPEAR` use almost 5 mins...

# Session info

```{r}
sessioninfo::session_info()
```



